title "Control Heading Rate"

axis "Heading Rate, Desired (Â°/s)"
axis 1, "Control Output"


addQuery "EstimatedState.r"
heading_rate = apply("HeadingRate", "EstimatedState.r", toDegrees, normalizeAngleDegrees180)
plot heading_rate

addQuery "DesiredHeadingRate.Horizontal Plane Control.value"
desired_hr = apply("DesiredHeadingRate", "DesiredHeadingRate.Horizontal Plane Control.value", toDegrees)
plot desired_hr

desired_ctrl = "DesiredControl.Horizontal Plane Control.n" 
plot 1, ["DesiredControl.n": desired_ctrl]